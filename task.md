# Задачи от Телеком-команды

Пошаговая автоматизация с использованием Bash/Python, Docker и Ansible.  
Задание состоит из трех последовательных разделов. Каждый раздел строится на результатах предыдущего, поэтому их выполнение должно происходить в указанном порядке. Также необходимо создать проект в Github и фиксировать изменения (создавать новый коммит) на каждый раздел задания в master ветке.

---

## Раздел 1: Работа со скриптом

**Цель:**  
Требуется разработать скрипт, который выполняет 5 разных HTTP-запросов к сервису https://httpstat.us и обрабатывает ответы следующим образом:  

- При получении статус-кодов `1xx`, `2xx`, `3xx` — логировать содержимое ответа (как минимум статус-код и тело ответа).  
- При получении статус-кодов `4xx` и `5xx` — генерировать исключительную ситуацию (exception).  
- Результат скрипта необходимо логировать в консоль.  

**Требования:**  
- Для выполнения данного задания можно использовать Python или реализовать скрипт на Bash.  
- Скрипт должен быть универсальным и легко читаемым, чтобы его можно было использовать как основу для дальнейших шагов.  

---

## Раздел 2: Работа с Docker

**Цель:**  
Разработать Docker-образ на базе Ubuntu 22.04, содержащий:  
- Bash-скрипт/Python-скрипт (из первого раздела).  
- Все необходимые зависимости для его корректного выполнения.  

**Требования:**  
1. Dockerfile должен:  
   - Использовать официальный образ `ubuntu:22.04` в качестве базового.  
   - Устанавливать необходимые зависимости (например, `curl`, `python` или другие утилиты, если требуются скриптом).  
   - Скопировать скрипт в контейнер.  
   - Обеспечивать возможность запуска скрипта при старте контейнера.  
   - Проверить работоспособность скрипта через `docker logs`.  

---

## Раздел 3: Автоматизация процесса с помощью Ansible

**Цель:**  
Автоматизировать с помощью Ansible процесс:  
1. Установки Docker на целевом хосте (локальном или удаленном).  
2. Проверки на целевом хосте работоспособность Bash-скрипта/Python-скрипта внутри Docker-контейнера (аналогично разделу 2, проверка работоспособности через `docker logs`).  
3. **Доп. задание (по желанию):** реализовать автоматическую проверку вместо `docker logs` на хосте, выполнить `docker logs` с помощью Ansible.  

**Требования:**  

### 1. Установка Docker  
a) Playbook должен:  
   - Определять целевую систему (может быть `localhost` или указанный в инвентаре хост).  
   - Устанавливать Docker и необходимые зависимости.  
   - Добавлять текущего пользователя в группу `docker` (чтобы избежать `sudo` при работе с Docker).  
   - Запускать и включать службу `docker.service`.  

b) Проверять:  
   - Успешность установки (например, командой `docker –version`).  

### 2. Проверка работы скрипта в контейнере  
a) Playbook должен:  
   - Собирать Docker-образ (если требуется) или использовать готовый.  
   - Запускать контейнер с Bash-скриптом или Python-скриптом.  

b) Проверять:  
   - Корректность выполнения скрипта (код завершения `0`).  
   - Проверить результат через `docker logs`.  

### 3. Автоматическая проверка работы скрипта в контейнере  
a) Playbook должен:  
   - Проверять:  
     - Корректность выполнения скрипта (код завершения `0`).  
     - Выводить результат через `docker logs`.  

---

## Итог  
В результате должен сформироваться Git-репозиторий с 3 директориями, в которых будут артефакты выполнения каждого раздела задания. Также (по желанию) можно создать в корне репозитория `README.md` с краткой инструкцией вашего решения.